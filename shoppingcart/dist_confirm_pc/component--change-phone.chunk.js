(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=t.MODAL=t.MASK=void 0;var r=c(["\n\twidth: 100%;\n\theight: 100%;\n\tposition: fixed;\n\ttop:0;\n\tleft:0;\n\tbackground-color:rgba(0,0,0,.6);\n\tz-index:100;\n\toverflow: auto;\n"],["\n\twidth: 100%;\n\theight: 100%;\n\tposition: fixed;\n\ttop:0;\n\tleft:0;\n\tbackground-color:rgba(0,0,0,.6);\n\tz-index:100;\n\toverflow: auto;\n"]),a=c(["\n\ttransform:translate(-50%,0);\n\tleft:50%;\n\ttop:60px;\n\tposition: absolute;\n\tmargin-bottom: 20px;\n"],["\n\ttransform:translate(-50%,0);\n\tleft:50%;\n\ttop:60px;\n\tposition: absolute;\n\tmargin-bottom: 20px;\n"]),o=c(["\n\tfont-family: iconfont;\n\tcursor: pointer;\n\ttop: 15px;\n\tright: 15px;\n\tfont-size: 25px;\n\tposition: absolute;\n\tz-index:2;\n\tcolor: #666;\n"],["\n\tfont-family: iconfont;\n\tcursor: pointer;\n\ttop: 15px;\n\tright: 15px;\n\tfont-size: 25px;\n\tposition: absolute;\n\tz-index:2;\n\tcolor: #666;\n"]),i=n(2),l=u(i),d=u(n(56));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=t.MASK=d.default.div(r),p=t.MODAL=d.default.div(a),f=d.default.span(o);t.Modal=function(e){return l.default.createElement(i.Fragment,null,l.default.createElement(s,null,l.default.createElement(p,null,l.default.createElement(f,{onClick:e.onClose},""),e.children)))}},471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=t.Select=t.Input=t.Form=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(r=n(2))&&r.__esModule?r:{default:r},i=n(485);function l(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.Form=(0,i.form)(function(e){e.getValues,e.validate,e.validateAll,e.showError,e.hideError;var t=e.children,n=l(e,["getValues","validate","validateAll","showError","hideError","children"]);return o.default.createElement("form",n,t)}),t.Input=(0,i.control)(function(e){var t=e.error,n=e.isChanged,r=e.isUsed,i=e.divStyle,d=l(e,["error","isChanged","isUsed","divStyle"]);return o.default.createElement("div",{style:i,className:n&&r&&t?"error":""},o.default.createElement("input",a({},d,{className:"x-default-input"})),o.default.createElement("div",{className:"__errortext"},n&&r&&t))}),t.Select=(0,i.control)(function(e){var t=e.error,n=e.isChanged,r=e.isUsed,a=l(e,["error","isChanged","isUsed"]);return o.default.createElement("div",{className:n&&r&&t?"error":""},o.default.createElement("select",a),o.default.createElement("div",{className:"__errortext"},n&&r&&t))}),t.Button=(0,i.button)(function(e){var t=e.hasErrors,n=l(e,["hasErrors"]);return o.default.createElement("button",a({},n,{disabled:t&&!n.ingoredisable}))})},472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDNI=t.dni=t.phone=t.zip=t.cpf=t.email=t.number=t.required=t.cpfcheck=t.__reg_document_pe__=t.__reg_document_mx__=t.__reg_document_ur__=t.__reg_document_co__=t.__reg_document_cl__=t.__reg_document_ar__=t.__reg_phone_sa_=t.__reg_phone_ae_=t.__reg_phone_br__=t.__reg_phone_normal__=t.__reg_zip_br__=t.__reg_zip_uk__=t.__reg_zip_us__=void 0;var r=o(n(2)),a=o(n(486));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.__reg_zip_us__=/^(([0-9]{5})|([0-9]{5}-[0-9]{4}))$/,l=t.__reg_zip_uk__=/^([a-z]|[A-Z]){1,2}\w{1,2}\s{0,1}[0-9]{1}([a-z]|[A-Z]){2}$/,d=t.__reg_zip_br__=/^[0-9]{5}-[0-9]{3}$/,u=t.__reg_phone_normal__=/^\d{1,20}$/,c=t.__reg_phone_br__=/^\d{8,9}$/,s=t.__reg_phone_ae_=/^(50|52|54|55|56|58|2|3|4|6|7|9){1,2}\d{7}$/,p=t.__reg_phone_sa_=/^(50|53|55|51|58|59|54|56|57|11|12|13|14|16|17|811){1,3}\d{7}$/,f=t.__reg_document_ar__=/^(\d{7,9}|\d{11})$/,_=t.__reg_document_cl__=/^\d{8,9}$/,h=t.__reg_document_co__=/^\d{6,10}$/,b=t.__reg_document_ur__=/^\d{6,8}$/,m=t.__reg_document_mx__=/^\d{10,18}$/,g=t.__reg_document_pe__=/^\d{8,9}$/,v=t.cpfcheck=function(e){var t=!0;e=(e=e.replace("-","")).replace(/\./g,"");for(var n=["11111111111","22222222222","33333333333","44444444444","55555555555","66666666666","77777777777","88888888888","99999999999","00000000000"],r=0;r<n.length;r++)n[r]==e&&(t=!1);e.length>11&&(t=!1);for(var a=0,o=0;o<9;o++)a+=parseInt(e.charAt(o),10)*(10-o);var i=11-a%11;10!=i&&11!=i||(i=0),i!=parseInt(e.charAt(9),10)&&(t=!1),a=0;for(var l=0;l<10;l++)a+=parseInt(e.charAt(l),10)*(11-l);return 10!=(i=11-a%11)&&11!=i||(i=0),i!=parseInt(e.charAt(10),10)&&(t=!1),t},y=(t.required=function(e){if(!e||!e.toString().trim().length)return"required"},t.number=function(e){if(e&&!a.default.isInt(e,{min:0,max:99}))return r.default.createElement("p",null)},t.email=function(e){if(!a.default.isEmail(e))return r.default.createElement("p",null,e," is not a valid email")},t.cpf=function(e){if(!v(e))return r.default.createElement("p",null,e," is not a valid cpf")},t.zip=function(e,t,n){var r=void 0,a=void 0;switch(n.country[0].value){case"US":r=i,a="Please enter 5 digits or 5 digits with a 4-digits number (E.g. 20001 or 20001-0000)";break;case"GB":r=l,a="Wrong ZIP CODE! Please offer us one or two-letter and one-two figures with a space end with one figure and two letters. (e.g. TN37 7HL,CW8 3AD)";break;case"BR":r=d,a="O formato do endereço está incorreto, preencha o formulário de [01310-000]"}if(r&&!r.test(e))return a},t.phone=function(e,t,n){var r=void 0,a=void 0;switch(n.country[0].value){case"BR":r=c,a="Insira pelo menos 8-9 números.";break;case"AE":r=s,a="Phone numbers should start with 50/52/54/55/56/58/2/3/4/6/7/9, followed by any 7 digits.";break;case"SA":r=p,a="Phone numbers should start with 50/53/55/51/58/59/54/56/57/11/12/13/14/16/17/811, followed by any 7 digits.";break;default:r=u,a="Incorrect phone number format (numbers only, no formatting)"}if(r&&!r.test(e))return a},t.dni=function(e){var t=void 0,n=void 0;switch(e){case"AR":t=f,n="DNI debe estar entre 7 a 9, u 11 dígitos";break;case"CL":t=_,n="CI/RUT debe tener entre 8 y 9 dígitos";break;case"CO":t=h,n="Cédula de ciudadanía debe tener entre 6 y 10 dígitos";break;case"UY":t=b,n="Cédula de identidad debe tener entre 6 y 8 dígitos";break;case"MX":t=m,n="Cédula de identidad debe tener entre 10 y 18 dígitos";break;case"PE":t=g,n="Cédula de identidad debe tener entre 8 y 9 dígitos";break;default:t=/\d/,n="Incorrect document"}return function(e){if(t&&!t.test(e))return n}});t.getDNI=function(e){switch(e){case"26":case"27":case"28":return y("AR");case"30":case"31":case"32":return y("CO");case"33":case"34":case"35":return y("CL");case"36":case"37":return y("UY");case"39":case"40":case"41":return y("MX");case"42":case"43":case"44":return y("PE");default:return y("US")}}},473:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ELEMENTS=t.MutiElement=t.FormElement=void 0;var r=s(["\n\tposition: relative;\n"],["\n\tposition: relative;\n"]),a=s(["\n\tlabel{\n\t\tdisplay: block;\n\t\tcolor: #666;\n\t\tmargin-bottom: 4px;\n\t}\n\t&.__required > .__control{\n\t\t&::after{\n\t\t\tcontent: '*';\n\t    color: #E64545;\n\t    position: absolute;\n\t    right: -15px;\n\t    top: 0;\n\t    font-size: 20px;\n\t\t}\n\t}\n\n\t& .error{\n\t\t.__errortext{\n\t\t\tfont-size: 12px;\n\t\t\tmargin-top: 5px;\n\t\t\tcolor: #E64545;\n\t\t}\n\t\tinput, select{\n\t\t\tborder: solid 1px #E64545;\n\t\t}\n\t}\n\n\tinput, select{\n\t\tpadding-left: 15px;\n\t\tborder: solid 1px #cacaca;\n\t}\n\n\tinput[disabled], select[disabled]{\n\t\tborder-color: rgb(202,202,202);\n    color: rgb(202,202,202);\n\t}\n\n\n"],["\n\tlabel{\n\t\tdisplay: block;\n\t\tcolor: #666;\n\t\tmargin-bottom: 4px;\n\t}\n\t&.__required > .__control{\n\t\t&::after{\n\t\t\tcontent: '*';\n\t    color: #E64545;\n\t    position: absolute;\n\t    right: -15px;\n\t    top: 0;\n\t    font-size: 20px;\n\t\t}\n\t}\n\n\t& .error{\n\t\t.__errortext{\n\t\t\tfont-size: 12px;\n\t\t\tmargin-top: 5px;\n\t\t\tcolor: #E64545;\n\t\t}\n\t\tinput, select{\n\t\t\tborder: solid 1px #E64545;\n\t\t}\n\t}\n\n\tinput, select{\n\t\tpadding-left: 15px;\n\t\tborder: solid 1px #cacaca;\n\t}\n\n\tinput[disabled], select[disabled]{\n\t\tborder-color: rgb(202,202,202);\n    color: rgb(202,202,202);\n\t}\n\n\n"]),o=s(["\n\t&::after{\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tclear: both;\n\t}\n\t& > div{\n\t\twidth: calc( 50% - ","px );\n\t\t&:first-child{\n\t\t\tfloat: left;\n\t\t}\n\t\t&:last-child{\n\t\t\tfloat: right;\n\t\t}\n\t\t\n\t}\n"],["\n\t&::after{\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tclear: both;\n\t}\n\t& > div{\n\t\twidth: calc( 50% - ","px );\n\t\t&:first-child{\n\t\t\tfloat: left;\n\t\t}\n\t\t&:last-child{\n\t\t\tfloat: right;\n\t\t}\n\t\t\n\t}\n"]),i=s(["\n\t& > div{\n\t\tmargin-top: 15px;\n\t\t&:first-child{\n\t\t\tmargin-top: 0;\n\t\t}\n\t}\n"],["\n\t& > div{\n\t\tmargin-top: 15px;\n\t\t&:first-child{\n\t\t\tmargin-top: 0;\n\t\t}\n\t}\n"]),l=c(n(2)),d=c(n(56)),u=c(n(474));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p=d.default.div(r),f=d.default.div(a);t.FormElement=function(e){return l.default.createElement(f,e,l.default.createElement("label",null,e.label," ",e.tipMessage&&l.default.createElement(u.default,{style:{marginLeft:2},message:e.tipMessage})),l.default.createElement(p,{className:"__control"},e.children))},t.MutiElement=d.default.div(o,function(e){return(e.gap||40)/2}),t.ELEMENTS=d.default.div(i)},474:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o=(r=["\n\twidth: 16px;\n\theight: 16px;\n\tborder: solid 1px #999;\n\topacity: 0.99;\n\tcursor: pointer;\n\ttext-align: center;\n\tline-height: 16px;\n\tcolor: #999;\n\tborder-radius: 50%;\n  display: inline-block;\n  font-size: 12px;\n  position: relative;\n  z-index: 1;\n\n  .__answer{\n  \tposition: absolute;\n  \ttop: 20px;\n  \tleft: -200px;\n  \tborder-radius: 4px;\n\t\tborder: solid 1px #e6e6e6;\n\t\tpadding: 15px;\n\t\tline-height: 20px;\n\t\twidth: 420px;\n    background-color: #fff;\n    display: none;\n    color: #222;\n    font-size: 14px;\n    text-align: left;\n    z-index: 100;\n  }\n\n\n  &:hover{\n  \t.__answer{\n  \t\tdisplay: block;\n  \t}\n    border-color: #cacaca;\n    color: #cacaca;\n  }\n"],a=["\n\twidth: 16px;\n\theight: 16px;\n\tborder: solid 1px #999;\n\topacity: 0.99;\n\tcursor: pointer;\n\ttext-align: center;\n\tline-height: 16px;\n\tcolor: #999;\n\tborder-radius: 50%;\n  display: inline-block;\n  font-size: 12px;\n  position: relative;\n  z-index: 1;\n\n  .__answer{\n  \tposition: absolute;\n  \ttop: 20px;\n  \tleft: -200px;\n  \tborder-radius: 4px;\n\t\tborder: solid 1px #e6e6e6;\n\t\tpadding: 15px;\n\t\tline-height: 20px;\n\t\twidth: 420px;\n    background-color: #fff;\n    display: none;\n    color: #222;\n    font-size: 14px;\n    text-align: left;\n    z-index: 100;\n  }\n\n\n  &:hover{\n  \t.__answer{\n  \t\tdisplay: block;\n  \t}\n    border-color: #cacaca;\n    color: #cacaca;\n  }\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(a)}}))),i=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var d=l(n(56)).default.div(o);t.default=function(e){return i.default.createElement(d,e,i.default.createElement("span",null,"?"),e.message&&i.default.createElement("div",{className:"__answer"},i.default.createElement("div",{dangerouslySetInnerHTML:{__html:e.message}})))}},621:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(r=["\n  padding: 40px;\n  background-color: #fff;\n  width: 400px;\n\n  .__title{\n    font-family: HelveticaNeue-Medium;\n    font-size: 20px;\n    color: #222;\n  }\n"],a=["\n  padding: 40px;\n  background-color: #fff;\n  width: 400px;\n\n  .__title{\n    font-family: HelveticaNeue-Medium;\n    font-size: 20px;\n    color: #222;\n  }\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(a)}}))),d=v(n(2)),u=v(n(56)),c=n(117),s=n(116),p=n(470),f=n(81),_=n(80),h=(n(115),n(476)),b=n(471),m=n(472),g=n(473);function v(e){return e&&e.__esModule?e:{default:e}}var y=u.default.div(l),x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.close=n.close.bind(n),n.editAddress=n.editAddress.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.state={phoneNumber:"",phoneArea:"",updating:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),i(t,[{key:"componentWillMount",value:function(){var e=this.props.address;e&&this.setState({phoneNumber:e.phoneNumber,phoneArea:e.phoneArea})}},{key:"close",value:function(e){e.preventDefault(),this.props.history.goBack()}},{key:"editAddress",value:function(){var e=this,t=this.props.transaction.transactionId,n=this.props.address;this.setState({updating:!0}),(0,f.updateorderaddress)(o({},n,{phoneNumber:this.state.phoneNumber,phoneArea:this.state.phoneArea,transactionId:t,country:n.country.value,state:n.state?n.state.value:""})).then(function(){e.setState({updating:!1}),e.props.history.goBack(),e.props.REFRESHORDERCONFIRM(t)}).catch(function(t){var n=t.result;alert(n),e.setState({updating:!1})})}},{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;"phoneArea"===r&&n&&n.length>2&&(n=n.slice(0,2)),this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},r,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.form.validateAll(),this.btn.context._errors&&this.btn.context._errors.length||this.editAddress()}},{key:"render",value:function(){var e=this,t=this.props,n=t.address,r=t.intl;return d.default.createElement(p.Modal,{onClose:this.close.bind(this)},n&&d.default.createElement(y,null,d.default.createElement("div",{className:"__title"},"Change Phone Number"),d.default.createElement(b.Form,{style:{marginTop:15},ref:function(t){return e.form=t},onSubmit:this.handleSubmit.bind(this)},d.default.createElement(g.ELEMENTS,null,d.default.createElement(g.FormElement,{className:"__required"},"BR"===n.country.value&&d.default.createElement(d.default.Fragment,null,d.default.createElement("span",{style:{width:59,display:"inline-block"}},"BR +55"),d.default.createElement(b.Input,{name:"phoneArea",type:"number",placeholder:"Código",value:this.state.phoneArea,onChange:this.handleInputChange,validations:[m.number],style:{width:"100%",height:40,paddingLeft:0,textAlign:"center"},divStyle:{width:55,marginRight:10,display:"inline-block"}}),d.default.createElement(b.Input,{name:"phoneNumber",divStyle:{width:"calc(100% - 124px)",display:"inline-block",verticalAlign:"top"},style:{width:"100%",height:40},value:this.state.phoneNumber,onChange:this.handleInputChange,validations:[m.required,m.phone]})),("AE"===n.country.value||"SA"===n.country.value)&&d.default.createElement(d.default.Fragment,null,d.default.createElement("span",{style:{width:69,display:"inline-block"}},"AE"===n.country.value?"UAE +971":"KSA +966"),d.default.createElement(b.Input,{name:"phoneNumber",divStyle:{width:"calc(100% - 79px)",display:"inline-block",verticalAlign:"middle"},style:{width:"100%",height:40},value:this.state.phoneNumber,onChange:this.handleInputChange,validations:[m.required,m.phone]})),["BR","AE","SA"].indexOf(n.country.value)<0&&d.default.createElement(d.default.Fragment,null,d.default.createElement(b.Input,{name:"phoneNumber",divStyle:{width:"100%",display:"inline-block",verticalAlign:"middle"},style:{width:"100%",height:40},value:this.state.phoneNumber,onChange:this.handleInputChange,validations:[m.required,m.phone]}))),d.default.createElement(b.Input,{type:"hidden",name:"country",value:n.country.value}),d.default.createElement(g.FormElement,null,this.state.updating?d.default.createElement(h.BigButton,{className:"__btn",height:40,bgColor:"#999"},r.formatMessage({id:"please_wait"}),"..."):d.default.createElement(b.Button,{className:"__submitbtn",ref:function(t){return e.btn=t},ingoredisable:"true",style:{display:"block",backgroundColor:"#e64545",borderRadius:2,color:"#fff",height:40,lineHeight:"40px",textAlign:"center",outline:"none",border:"none",width:"100%",textTransform:"uppercase",cursor:"pointer",fontSize:16}},r.formatMessage({id:"confirm"})))))))}}]),t}();t.default=(0,c.connect)(function(e){return{transaction:e.transaction,address:e.transaction?e.transaction.shippingDetail:null}},function(e){return{REFRESHORDERCONFIRM:function(t){e((0,s.fetchTransaction)(t))}}})((0,_.injectIntl)(x))}}]);
//# sourceMappingURL=component--change-phone.chunk.js.map